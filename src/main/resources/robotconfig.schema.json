{
    "definitions": {
        "motor": {
            "type": "array",
            "title": "motorConfiguration",
            "propertyNames": {
                "pattern": "^[a-z]+([A-Z][a-z]*)*$"
            },
            "additionalProperties": {
                "type": "integer"
            }
        },
        "PIDConfig": {
            "type": "array",
            "title": "PIDConfiguration",
            "items": {
                "$ref": "#/definitions/PIDSlot"
            }
        },
        "PIDSlot" : {
            "type": "array",
            "title": "PIDSlotConfiguration",
            "additionalProperties": {
                "type": "integer"
            }
        },
        "Subsystem" : {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "implemented" : {
                    "type": "boolean"
                },
                "Falcons" : {
                    "type": "array",
                    "$ref" : "#/definitions/motor"
                },
                "Talons" :  {
                    "type" : "array",
                    "$ref": "#/definitions/motor"
                },
                "Victors" :  {
                    "type": "array",
                    "$ref": "#/definitions/motor"
                },
                "invertMotor": {
                    "type" : "array",
                    "items": {
                        "type": "string"
                    }
                },
                "pidConfig": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/PIDConfig"
                    }
                },
                "constants": {
                    "type": "array",
                    "additionalProperties": {
                        "type": "number"
                    }
                }
            }
        },
        "constants": {
            "type": "object",
            "title": "Hardware Constants",
            "additionalProperties": {
                "type": "number"
            }
        },
        "pid": {
            "type": "object",
            "title": "PID Configuration",
            "required": ["kP", "kI", "kD", "kF"],
            "properties": {
                "kP": { "type": "number" },
                "kI": { "type": "number" },
                "kD": { "type": "number" },
                "kF": { "type": "number" }
            }
        }
    },
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://edinarobotics.com/robotconfig.json",
    "type": "object",
    "title": "Robot Configuration",
    "properties": {
        "subsystems": {
            "$id": "#/properties/subsystems",
            "type": "object",
            "title": "SubsystemMap",
            "items": {
                "$ref": "#/definitions/Subsystem"
            }
        },
        "pcm": {
            "$id": "#/properties/pcm",
            "type": "integer"
        },
        "constants": {
            "$ref": "#/definitions/constants"
        }
    },
    "anyOf": [
        {
            "properties": {
                "subsystems": {
                    "additionalProperties": {
                        "required": ["implemented"]
                    }
                }
            },
            "required": ["subsystems", "pcm", "constants"]
        }
    ]
}
